(this.webpackJsonpcircle_variable_to_gitlab_variables=this.webpackJsonpcircle_variable_to_gitlab_variables||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(15),s=n.n(c),i=(n(22),n(23),n(12)),l=n(7),o=n(11),u=n(16),b=n.n(u),j=n(17),m=n.n(j),d=n(0),f=function e(t){Object(o.a)(this,e),this.message=t},v=function e(t,n){Object(o.a)(this,e),this.key=t,this.value=n,this.error=void 0},h=function(){var e=Object(r.useState)("\njobs:\n  build:\n    docker:\n      - image: circleci/python:3.9.0-buster\n        environment:\n            DEBUG: True\n            DEBUG1: true\n            LOG_LEVEL: DEBUG\n            PROJECT_DOMAIN: localhost:8000\n            SECRET_KEY: \n            DATABASE_URL: postgres://ubuntu:@localhost:5432/circle_test\n"),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(l.a)(c,2),o=s[0],u=s[1],j=Object(r.useState)({hasProblem:!1,message:void 0}),h=Object(l.a)(j,2),O=h[0],g=h[1];return Object(r.useEffect)((function(){var e=[function(e){try{var t=b.a.load(e);return g({hasProblem:!1,message:void 0}),t}catch(n){return g({hasProblem:!0,message:"Invalid Yaml Data"}),{}}},function(e){try{var t=Object.keys(e.jobs).reduce((function(t,n){return e.jobs[n].hasOwnProperty("docker")?n:t}),e.jobs);return g({hasProblem:!1,message:void 0}),e.jobs[t].docker.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t.environment)}),{})}catch(n){return g({hasProblem:!0,message:"Yaml Data is invalid"}),{}}},function(e){return Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return new v(n,r)}))},function(e){return e.map((function(e){return"boolean"===typeof e.value&&(e.value=e.value.toString().toLowerCase().replace("false",'"False"').replace("true",'"True"')),e}))},function(e){var t=["POSTGRES_USER","POSTGRES_DB","POSTGRES_PASSWORD"],n=e.reduce((function(e,n){return t.includes(n.key)&&(e[n.key]=n.value),e}),e);return e.map((function(e){return e.key.toUpperCase().includes("DATABASE_URL")&&(e.value="postgres://".concat(n.POSTGRES_USER,":").concat(n.POSTGRES_PASSWORD,"@postgres:5432/").concat(n.POSTGRES_DB)),e}))},function(e){return e.map((function(e){var t=Number(e.value);return Number.isNaN(t)||Number.isInteger(t)||(e.value='"'.concat(e.value.toString(),'"')),e}))},function(e){return e.map((function(e){return null===e.value&&(e.error=new f("This field is missing value")),e}))},function(e){return e.push(new v("SECURE_SSL_REDIRECT",'"False"')),e},function(e){var t=["HTTPS_REQUIRED"];return e.filter((function(e){return!t.includes(e.key)}))}].reduce((function(e,t){return t(e)}),n);u(e)}),[n]),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col",children:[O.hasProblem?Object(d.jsx)("p",{className:"alert alert-danger",role:"alert",children:O.message}):"",Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"variables",class:"form-label",children:"Circle Ci Settings"}),Object(d.jsx)("textarea",{className:"form-control",id:"circleCiSettings",value:n,onChange:function(e){a(e.target.value)},rows:"20"})]})]}),o.length>0&&Object(d.jsx)("div",{className:"col",children:Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Variables Gitlab"}),Object(d.jsxs)("button",{type:"button",className:"btn btn-outline-primary",style:{"margin-left":"10px"},onClick:function(){var e=o.reduce((function(e,t){return e+="".concat(t.key,": ").concat(t.value,"\n")}),"");m()(e)},children:[Object(d.jsx)("i",{className:"fa fa-copy",style:{"padding-right":"5px"}}),"Copy"]}),Object(d.jsx)("ul",{className:"list-group",style:{"max-height":"90vh",overflow:"scroll"},children:o.map((function(e){var t="list-group-item";return e.error&&(t+=" list-group-item-danger"),Object(d.jsxs)("li",{className:t,children:[e.key,": ",e.value," ",e.error?"("+e.error.message+")":""]})}))})]})})]})};var O=function(){return Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)(h,{})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),g()}},[[52,1,2]]]);
//# sourceMappingURL=main.2f2ad43a.chunk.js.map