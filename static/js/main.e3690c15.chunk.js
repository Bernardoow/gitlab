(this.webpackJsonpcircle_variable_to_gitlab_variables=this.webpackJsonpcircle_variable_to_gitlab_variables||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(15),c=n.n(s),i=(n(22),n(23),n(12)),l=n(7),o=n(11),u=n(16),b=n.n(u),m=n(17),j=n.n(m),d=n(0),h=function e(t){Object(o.a)(this,e),this.message=t},f=function e(t,n){Object(o.a)(this,e),this.key=t,this.value=n,this.error=void 0},v=function(){var e=Object(r.useState)("\njobs:\n  build:\n    docker:\n      - image: circleci/python:3.9.0-buster\n        environment:\n            DEBUG: True\n            DEBUG1: true\n            LOG_LEVEL: DEBUG\n            PROJECT_DOMAIN: localhost:8000\n            SECRET_KEY: \n            DATABASE_URL: postgres://ubuntu:@localhost:5432/circle_test\n"),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),c=Object(l.a)(s,2),o=c[0],u=c[1],m=Object(r.useState)({hasProblem:!1,message:void 0}),v=Object(l.a)(m,2),g=v[0],p=v[1];return Object(r.useEffect)((function(){var e=[function(e){try{var t=b.a.load(e);return p({hasProblem:!1,message:void 0}),t}catch(n){return p({hasProblem:!0,message:"Invalid Yaml Data"}),{}}},function(e){try{return e.hasOwnProperty("jobs")&&e.jobs.hasOwnProperty("build")&&e.jobs.build.hasOwnProperty("docker"),p({hasProblem:!1,message:void 0}),e.jobs.build.docker.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),t.environment)}),{})}catch(t){return p({hasProblem:!0,message:"Yaml Data is missing path jobs.build.docker"}),{}}},function(e){return Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return new f(n,r)}))},function(e){return e.map((function(e){return"boolean"===typeof e.value&&(e.value=e.value.toString().toLowerCase().replace("false",'"False"').replace("true",'"True"')),e}))},function(e){return e.map((function(e){return e.key.toUpperCase().includes("DATABASE_URL")&&(e.value=e.value.replace("localhost","postgres")),e}))},function(e){return e.map((function(e){var t=Number(e.value);return Number.isNaN(t)||Number.isInteger(t)||(e.value=e.value.toString()),e}))},function(e){return e.map((function(e){return null===e.value&&(e.error=new h("This field is missing value")),e}))},function(e){return e.push(new f("SECURE_SSL_REDIRECT",'"False"')),e},function(e){var t=["HTTPS_REQUIRED"];return e.filter((function(e){return!t.includes(e.key)}))}].reduce((function(e,t){return t(e)}),n);u(e)}),[n]),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col",children:[g.hasProblem?Object(d.jsx)("p",{className:"alert alert-danger",role:"alert",children:g.message}):"",Object(d.jsxs)("div",{class:"mb-3",children:[Object(d.jsx)("label",{for:"variables",class:"form-label",children:"Circle Ci Settings"}),Object(d.jsx)("textarea",{className:"form-control",id:"circleCiSettings",value:n,onChange:function(e){a(e.target.value)},rows:"20"})]})]}),o.length>0&&Object(d.jsx)("div",{className:"col",children:Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Variables Gitlab"}),Object(d.jsxs)("button",{type:"button",className:"btn btn-outline-primary",style:{"margin-left":"10px"},onClick:function(){var e=o.reduce((function(e,t){return e+="".concat(t.key,": ").concat(t.value,"\n")}),"");j()(e)},children:[Object(d.jsx)("i",{className:"fa fa-copy",style:{"padding-right":"5px"}}),"Copy"]}),Object(d.jsx)("ul",{className:"list-group",style:{"max-height":"90vh",overflow:"scroll"},children:o.map((function(e){var t="list-group-item";return e.error&&(t+=" list-group-item-danger"),Object(d.jsxs)("li",{className:t,children:[e.key,": ",e.value," ",e.error?"("+e.error.message+")":""]})}))})]})})]})};var g=function(){return Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)(v,{})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),p()}},[[52,1,2]]]);
//# sourceMappingURL=main.e3690c15.chunk.js.map